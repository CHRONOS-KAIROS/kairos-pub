
// A.	1. Went to country Afghanistan 2. Study in mosque AAA 3. Joined group BBB 4. Flew to NYC 5. Bought fertilizers 6. Bought detonators 7. Rented a van 8. Loaded van 9. Parked on 42ne st. 10. Smoke detected 11. Bomb found
{
    "@context": {
         "kairos": "https://darpa.mil/i2o/kairos.official.namespace/",
    "schemas": "kairos:schemas",
    "super": "kairos:super",
    "name": "kairos:name",
    "description": "kairos:description",
    "version": "kairos:version",
    "steps": "kairos:steps",
    "events": "kairos:events",
    "ref": "kairos:ref",
    "slots": "kairos:slots",
    "slotName": "kairos:slotName",
    "role": "kairos:role",
    "constraint": "kairos:constraint",
    "order": "kairos:order",
    "precedes": "kairos:precedes",
    "follows": "kairos:follows",
        "isi": "https://isi.edu/kairos.namespace/",
        "sbu": "http://www.stonybrook.edu/kairos.namespace/",
        "wordnet": "https://wordnetweb.princeton.edu/kairos.namespace/",
    },
    "schemas": [
        {
            "@id": "isi:radicalize_formal_in_afghanistan", // I don't understand when things get @ and when they don't...does anything need an @?
            // not doing this yet
            // "super": [ 
            //     "isi:radicalize",
            // ]
            "name": "radicalize_formal_in_afghanistan", // the id defines what this event is, name doesn't seem necessary
            "description": "formal radicalization in afghanistan ending with a vehicle bomb",
            "version": "1.0",
            "steps": [
                {
                    // person a goes to afghanistan
                    "@type": "kairos:go", // ok to use someone else's ontology
                    "@id": "isi:radicalize_formal_in_afghanistan.go_to_afghanistan",
                    // no ref blocks in these steps yet...if there is a generic isi:radicalize that has steps that we are augmenting,
                    // that situation is when we would use the ref block
                    // "ref": [ ] 
                    "slots": [
                        {
                            "slotName": "who_go", // seems redundant, aliasable
                            "@id": "isi:radicalize_formal_in_afghanistan.go_to_afghanistan.who_go",
                            "role": "isi:go.agent",
                            "constraint": [ // these should be obligatory if the slot is going to be mentioned
                                "type":"isi:person" // see coref invoked below...
                            ]
                        }
                        {
                            "slotName": "where_go",
                            "@id": "isi:radicalize_formal_in_afghanistan.go_to_afghanistan.where_go",
                            "role": "isi:go.destination",
                            "constraint": [
                                "isi:location"="located_in.afghanistan", // this seems underdefined
                            ]
                        }
                    ]
                }
                { // person a studies in mosque aaa
                    "@type": "isi:study",
                    "@id": "isi:radicalize_formal_in_afghanistan.study",
                    "slots": [
                        {
                            "slotName": "who_study",
                            "@id": "isi:radicalize_formal_in_afghanistan.study.who_go",
                            "role": "isi:study.agent",
                            "constraint": [
                                "id":"isi:radicalize_formal_in_afghanistan.go_to_afghanistan.who_go", // direct coref
                            ]
                        }
                        {
                            "slotName": "where_study",
                            "@id": "isi:radicalize_formal_in_afghanistan.study.where_study",
                            "role": "isi:study.location",
                            "constraint": [
                                "isi:mosque",
                            ]
                        }
                    ]
                }
                {
                    // person a joins group bbb
                    "@type": "isi:join_group",
                    "@id": "isi:radicalize_formal_in_afghanistan.join_group",
                    "slots": [
                        {
                            "slotName": "who_join",
                            "@id": "isi:radicalize_formal_in_afghanistan.join_group.who_join",
                            "role": "isi:join_grouup.agent",
                            "constraint": [
                                "id":"isi:radicalize_formal_in_afghanistan.go_to_afghanistan.who_go", // direct coref
                            ]
                        }
                        {
                            "slotName": "radical_group",
                            "@id": "isi:radicalize_formal_in_afghanistan.join_group.radical_group",
                            "role": "isi:join_group.location",
                            "constraint": [
                                "kairos:terrorist_organization", // but let's say we want to make sure it's an organization that has ties to the mosque...
                            ]
                        }
                    ]
                }
                {
                    // person a flies to new york
                    "@type": "isi:fly",
                    "@id": "isi:radicalize_formal_in_afghanistan.travel_to_target",
                    "slots": [
                        {
                            "slotName": "who_fly",
                            "@id": "isi:radicalize_formal_in_afghanistan.travel_to_target.who_fly",
                            "role": "isi:fly.agent",
                            "constraint": [
                                "id":"isi:radicalize_formal_in_afghanistan.go_to_afghanistan.who_go", // direct coref
                            ]
                        }
                        {
                            "slotName": "where_fly",
                            "@id": "isi:radicalize_formal_in_afghanistan.travel_to_target.where_fly",
                            "role": "isi:fly.location",
                            "constraint": [
                                "isi:gpe",
                            ]
                        }
                    ]
                }
                {
                    // person a buys fertilizer
                    "@type": "isi:buy",
                    "@id": "isi:radicalize_formal_in_afghanistan.buy_fertilizer",
                    "slots": [
                        {
                            "slotName": "who_buy",
                            "@id": "isi:radicalize_formal_in_afghanistan.buyfert.who_buy",
                            "role": "isi:buy.agent",
                            "constraint": [
                                "id":"isi:radicalize_formal_in_afghanistan.go_to_afghanistan.who_go", // direct coref
                            ]
                        }
                        {
                            "slotName": "what_buy",
                            "@id": "isi:radicalize_formal_in_afghanistan.buyfert.what_buy",
                            "role": "isi:buy.patient",
                            "constraint": [
                                "uiuc:fertilizer", // very specific kind of entity?
                            ]
                        }
                    ]
                }
                {
                    // person a buys detonators
                    "@type": "isi:buy",
                    "@id": "isi:radicalize_formal_in_afghanistan.buy_detonators",
                    "slots": [
                        {
                            "slotName": "who_buy",
                            "@id": "isi:radicalize_formal_in_afghanistan.buydet.who_buy",
                            "role": "isi:buy.agent",
                            "constraint": [
                                "id":"isi:radicalize_formal_in_afghanistan.go_to_afghanistan.who_go", // direct coref
                            ]
                        }
                        {
                            "slotName": "what_buy",
                            "@id": "isi:radicalize_formal_in_afghanistan.buydet.what_buy",
                            "role": "isi:buy.patient",
                            "constraint": [
                                "uiuc:detonators",
                            ]
                        }
                    ]
                }
                {
                    // person a rents a van
                    "@type": "isi:acquire", // purchase would also be ok
                    "@id": "isi:radicalize_formal_in_afghanistan.rent_van",
                    "slots": [
                        {
                            "slotName": "who_rent",
                            "@id": "isi:radicalize_formal_in_afghanistan.rentvan.who_rent",
                            "role": "isi:acquire.agent",
                            "constraint": [
                                "id":"isi:radicalize_formal_in_afghanistan.go_to_afghanistan.who_go", // direct coref
                            ]
                        }
                        {
                            "slotName": "what_rent",
                            "@id": "isi:radicalize_formal_in_afghanistan.rentvan.what_rent",
                            "role": "isi:acquire.patient",
                            "constraint": [
                                "kairos:vehicle", // probably a car or light truck would be ok too
                            ]
                        }
                    ]
                }
                {
                    // person a loads the van
                    "@type": "isi:load", 
                    "@id": "isi:radicalize_formal_in_afghanistan.load_van",
                    "slots": [
                        {
                            "slotName": "who_load",
                            "@id": "isi:radicalize_formal_in_afghanistan.loadvan.who_load",
                            "role": "isi:load.agent",
                            "constraint": [
                                "id":"isi:radicalize_formal_in_afghanistan.go_to_afghanistan.who_go", // direct coref
                            ]
                        }
                        {
                            "slotName": "what_load",
                            "@id": "isi:radicalize_formal_in_afghanistan.loadvan.what_load",
                            "role": "isi:load.receptacle",
                            "constraint": [
                                "id": "isi:radicalize_formal_in_afghanistan.rentvan.what_rent", // coref
                            ]
                        }
                    ]
                }
                {
                    // person a parks van on 42nd street in new york
                    "@type": "isi:relocate", 
                    "@id": "isi:radicalize_formal_in_afghanistan.parkvan",
                    "slots": [
                        {
                            "slotName": "who_park",
                            "@id": "isi:radicalize_formal_in_afghanistan.parkvan.who_park",
                            "role": "isi:park.agent",
                            "constraint": [
                                "id":"isi:radicalize_formal_in_afghanistan.go_to_afghanistan.who_go", // direct coref
                            ]
                        }
                        {
                            "slotName": "what_park",
                            "@id": "isi:radicalize_formal_in_afghanistan.parkvan.where_park",
                            "role": "isi:park.receptacle",
                            "constraint": [
                                "id": "isi:radicalize_formal_in_afghanistan.rentvan.what_rent", // direct coref
                            ]
                        }
                        {                                                
                            "slotName": "where_park",
                            "@id": "isi:radicalize_formal_in_afghanistan.parkvan.where_park",
                            "role": "isi:park.destination",
                            "constraint": [
                                "located_in": "isi:radicalize_formal_in_afghanistan.travel_to_target.where_fly", // is this how to do indirect coref?
                            ]
                        }
                    ]
                }
                {
                    // smoke detected
                    "@type": "isi:detect", 
                    "@id": "isi:radicalize_formal_in_afghanistan.detect_smoke",
                    "slots": [
                        {
                            "slotName": "what_detected",
                            "@id": "isi:radicalize_formal_in_afghanistan.detsm.what_det",
                            "role": "isi:detect.substance",
                        }
                    ]
                }
                {
                    // bomb found where van parked
                    "@type": "isi:detect", 
                    "@id": "isi:radicalize_formal_in_afghanistan.find_bomb",
                    "slots": [
                        {
                            "slotName": "what_detected",
                            "@id": "isi:radicalize_formal_in_afghanistan.findbomb.what_det",
                            "role": "kairos:patient",
                            "constraint": [
                                "type":"kairos:explosive", // type constraint instead of id constraint
                            ]
                        }
                        {
                            "slotName": "where_detected",
                            "@id": "isi:radicalize_formal_in_afghanistan.findbomb.where_det",
                            "role": "isi:detect.location",
                            "constraint": [
                                "id":"isi:radicalize_formal_in_afghanistan.parkvan.where_park",
                            ]
                        }
                    ]
                }
            ],
            "order": [

                {"before": "isi:radicalize_formal_in_afghanistan.go_to_afghanistan",      "after": "isi:radicalize_formal_in_afghanistan.join_group",      },      
                {"before": "isi:radicalize_formal_in_afghanistan.join_group",             "after": "isi:radicalize_formal_in_afghanistan.travel_to_target",},  
                {"before": "isi:radicalize_formal_in_afghanistan.travel_to_target",       "after": "isi:radicalize_formal_in_afghanistan.buy_fertilizer",  }, 
                {"before": "isi:radicalize_formal_in_afghanistan.buy_fertilizer",         "after": "isi:radicalize_formal_in_afghanistan.buy_detonators",  }, 
                {"before": "isi:radicalize_formal_in_afghanistan.buy_detonators",         "after": "isi:radicalize_formal_in_afghanistan.rent_van",        }, 
                {"before": "isi:radicalize_formal_in_afghanistan.rent_van",               "after": "isi:radicalize_formal_in_afghanistan.load_van",        }, 
                {"before": "isi:radicalize_formal_in_afghanistan.load_van",               "after": "isi:radicalize_formal_in_afghanistan.parkvan",         }, 
                {"before": "isi:radicalize_formal_in_afghanistan.parkvan",                "after": "isi:radicalize_formal_in_afghanistan.detect_smoke",    }, 
                {"before": "isi:radicalize_formal_in_afghanistan.detect_smoke",           "after": "isi:radicalize_formal_in_afghanistan.find_bomb",       }, 

            ]
        },
    ]
}
