{
  "@context": {
    "kairos": "https://darpa.mil/i2o/kairos.official.namespace/",
    "schemas": "kairos:schemas",
    "super": "kairos:super",
    "name": "kairos:name",
    "comment": "kairos:comment",
    "description": "kairos:description",
    "version": "kairos:version",
    "sdf_version": "kairos:sdf_version",
    "privateData": "kairos:privateData",
    "steps": "kairos:steps",
    "slots": "kairos:slots",
    "role": "kairos:role",
    "constraints": "kairos:constraint",
    "aka": "kairos:aka",
    "location": "kairos:location",
    "order": "kairos:order",
    "before": "kairos:before",
    "after": "kairos:after",
    "container": "kairos:container",
    "contained": "kairos:contained",
    "overlaps": "kairos:overlaps",
    "flags": "kairos:flags",
    "caci": "https://caci.com/kairos/"
  },
  "schemas": [
    {
      "@id": "caci:CoordinatedBombingAttack",
      "comment": [
        "Scenario E:",
        "1. Spend time training at Al Qaeda center in Afghanistan",
        "2. Wire transfer from an uncle",
        "3. Enter US illegally",
        "4. Possess bomb making instruction",
        "5. Contact Sheikh connected with Rabbi Kahane Murderer",
        "6. Get financing from Sheikh",
        "7. Train in NJ",
        "8. Mail anti-Israel letters to newspapers",
        "9. Rent a van",
        "10. Drive to Manhattan",
        "11. Park at WTC (1993)",
        "12. Bomb explosion killing 6 people",
        "13. Escaped to Pakistan",
        "",
        "caci:BombingAttack subclasses the KAIROS Conflict:Attack event primitive."
      ],
      "super": "caci:BombingAttack",
      "name": "Coordinated Bombing Attack",
      "description": "A coordinated effort by mulitple parties that results in a bombing attack",
      "version": "4/27/2020",
      "sdf_version": "0.5",
      "privateData": {
        "comment": "Performers can place any keys/values they wish here.  The map will be added to the graph but otherwise ignored by the system.  Properties maps can be added inside a schema, individual steps, slots, and order blocks, but not in their enclosing arrays.  Large amounts of private data can be stored on S3 and linked via a key in the map.  The intention is to validate the size (in bytes) of the object does not exceed a defined maximum.",
        "my_name": "my value",
        "giant_bitstring": "s3://caci-kairos/privateData/CoordinatedBombingAttack/schema-bitstring.gz"
      },
      "steps": [
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/training_1",
          "comment": [
            "\"Spend time training at Al Qaeda center in Afghanistan\"",
            "Do we need cardinality to specify 1+ training events?"
          ],
          "@type": "kairos:Training",
          "aka": [
            "training",
            "teaching"
          ],
          "reference": "https://www.wikidata.org/wiki/Q918385",
          "provenance": "Performer-specific info that tracks the origin of the event.",
          "slots": [
            {
              "name": "trainer",
              "@id": "caci:CoordinatedBombingAttack/Slots/training_1/trainer",
              "role": "kairos:Training/Roles/Trainer",
              "constraints": {
                "comment": "Al-Qaeda in Afghanistan.  This could link to an Al-Qaeda entity in kairos",
                "@id": "https://www.wikidata.org/wiki/Q34490",
                "location": "https://www.wikidata.org/wiki/Q889"
              }
            },
            {
              "name": "trainee",
              "@id": "caci:CoordinatedBombingAttack/Slots/training_1/trainee",
              "role": "kairos:Training/Roles/Learner",
              "constraints": {
                "@type": [
                  "kairos:PER",
                  "kairos:ORG"
                ],
                "location": "https://www.wikidata.org/wiki/Q889"
              }
            },
            {
              "name": "subject_matter",
              "@id": "caci:CoordinatedBombingAttack/Slots/training_1/subject_matter",
              "role": "kairos:Training/Roles/FieldOfKnowledge",
              "constraints": {
                "@type": "kairos:INF"
              }
            }
          ]
        },
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/wire_transfer",
          "@type": "caci:Transaction/WireTransfer",
          "comment": [
            "\"Wire transfer from an uncle\"",
            "subclasses kairos:Transaction.Exchange (or AIDA's Transaction.TransferMoney)"
          ],
          "aka": "telegraphic transfer",
          "slots": [
            {
              "name": "sender",
              "@id": "caci:CoordinatedBombingAttack/Slots/wire_transfer/sender",
              "role": "caci:Transaction/WireTransfer/Roles/Sender",
              "constraints": [
                "kairos:PER",
                "kairos:ORG",
                "kairos:GPE"
              ],
              "super": "kairos:Transaction.Exchange/Roles/GiverOrGranterOrSource"
            },
            {
              "name": "recipient",
              "@id": "caci:CoordinatedBombingAttack/Slots/wire_transfer/recipient",
              "role": "caci:Transaction/WireTransfer/Roles/Recipient",
              "constraints": [
                "kairos:PER",
                "kairos:ORG",
                "kairos:GPE"
              ],
              "super": "kairos:Transaction.Exchange/Roles/AcquirerOrRecipient"
            },
            {
              "name": "amount",
              "@id": "caci:CoordinatedBombingAttack/Slots/wire_transfer/amount",
              "role": "caci:Transaction/WireTransfer/Roles/Amount",
              "constraints": [
                "kairos:MON"
              ],
              "super": "kairos:Transaction.Exchange/Roles/ProvidedMoney"
            }
          ]
        },
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/move_illegally",
          "@type": "kairos:Movement.TransportationIllegal",
          "comment": [
            "\"Enter US illegally\"",
            "Using a kairos event primitive directly"
          ],
          "slots": [
            {
              "name": "sourcePlace",
              "@id": "caci:CoordinatedBombingAttack/Slots/move_illegally/sourcePlace",
              "role": "kairos:Movement.TransportationIllegal/Roles/sourcePlace",
              "constraints": [
                "kairos:LOC",
                "kairos:FAC",
                "kairos:GPE"
              ]
            },
            {
              "name": "destinationPlace",
              "@id": "kairos:Movement.TransportationIllegal/Slots/move_illegally/destinationPlace",
              "role": "kairos:Movement.TransportationIllegal/Roles/destinationPlace",
              "constraints": [
                "kairos:LOC",
                "kairos:FAC",
                "kairos:GPE"
              ]
            },
            {
              "name": "thingsMoved",
              "@id": "kairos:Movement.TransportationIllegal/Slots/move_illegally/thingsMoved",
              "role": "kairos:Movement.TransportationIllegal/Roles/thingsMoved",
              "constraints": [
                "kairos:PER"
              ]
            }
          ]
        },
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/get_bombmaking_howto",
          "@type": "kairos:Transaction.Exchange",
          "comment": [
            "\"Possess bomb making instruction\"",
            "Seems a little specific to be in the schema, esp. considering the training events, but basically it's an exchange of an object (the bomb-making instructions)"
          ],
          "slots": [
            {
              "name": "acquiredEntity",
              "@id": "caci:CoordinatedBombingAttack/Slots/get_bombmaking_howto/AcquiredEntity",
              "role": "kairos:Transaction.Exchange/Roles/AcquiredEntity",
              "constraints": {
                "comment": "narrowed the constraints to be only a COM.",
                "@type": "kairos:COM"
              },
              "comment": "Don't need a super here (unlike wire_transfer) because we're using a primitive directly"
            }
          ]
        },
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/make_contact",
          "@type": "kairos:Contact.Contact",
          "comment": [
            "\"Contact Sheikh connected with Rabbi Kahane Murderer\"",
            "It seems like you'd need to be able to specify there can be any number of Contact events"
          ],
          "aka": "contact",
          "slots": [
            {
              "name": "participant",
              "@id": "caci:CoordinatedBombingAttack/Slots/make_contact/Participant",
              "role": "kairos:Transaction.Exchange/Roles/AcquiredEntity",
              "constraints": "kairos:PER",
              "comment": "or kairos:PER(affiliated_with(https://www.wikidata.org/wiki/Q2918749))"
            }
          ]
        },
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/obtain_financing",
          "@type": "kairos:Transaction.Exchange",
          "comment": "\"Get financing from Sheikh\"",
          "aka": "financing",
          "slots": [
            {
              "name": "giver",
              "@id": "caci:CoordinatedBombingAttack/Slots/obtain_financing/giver",
              "role": "kairos:Transaction.Exchange/Roles/GiverOrGranterOrSource",
              "constraints": {
                "comment": "This is the participant in the Contact event above",
                "@id": "caci:CoordinatedBombingAttack/Slots/make_contact/Participant"
              }
            },
            {
              "name": "providedMoney",
              "@id": "caci:CoordinatedBombingAttack/Slots/obtain_financing/ProvidedMoney",
              "role": "kairos:Transaction.Exchange/Roles/ProvidedMoney",
              "constraints": [
                "kairos:MON"
              ]
            }
          ]
        },
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/training_2",
          "comment": "\"Train in NJ\"",
          "@type": "kairos:Training",
          "aka": [
            "training",
            "teaching"
          ],
          "slots": [
            {
              "name": "trainer",
              "@id": "caci:CoordinatedBombingAttack/Slots/training_2/trainer",
              "role": "kairos:Training/Roles/Trainer",
              "constraints": {
                "@type": [
                  "kairos:PER",
                  "kairos:ORG"
                ],
                "location": "https://www.wikidata.org/wiki/Q1408"
              }
            },
            {
              "name": "trainee",
              "@id": "caci:CoordinatedBombingAttack/Slots/training_2/trainee",
              "role": "kairos:Training/Roles/Learner",
              "constraints": {
                "@type": [
                  "kairos:PER",
                  "kairos:ORG"
                ],
                "location": "https://www.wikidata.org/wiki/Q1408"
              }
            },
            {
              "name": "subject_matter",
              "@id": "caci:CoordinatedBombingAttack/Slots/training_1/subject_matter",
              "role": "kairos:Training/Roles/FieldOfKnowledge",
              "constraints": {
                "@type": "kairos:INF"
              }
            }
          ]
        },
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/media_propaganda",
          "comment": [
            "\"Mail anti-Israel letters to newspapers\"",
            "caci:Propaganda subclasses Contact.Broadcast"
          ],
          "@type": "caci:Propaganda",
          "slots": [
            {
              "name": "sender",
              "@id": "caci:CoordinatedBombingAttack/Slots/media_propaganda/sender",
              "role": "caci:Propaganda/Roles/Sender",
              "constraints": [
                "kairos:PER",
                "kairos:ORG",
                "kairos:GPE",
                "kairos:SID"
              ],
              "super": "kairos:Contact.Broadcast/Roles/Participant"
            },
            {
              "name": "outlet",
              "@id": "caci:CoordinatedBombingAttack/Slots/media_propaganda/outlet",
              "role": "caci:Propaganda/Roles/Outlet",
              "constraints": [
                "kairos:LOC",
                "kairos:FAC"
              ]
            },
            {
              "name": "subject_matter",
              "@id": "caci:CoordinatedBombingAttack/Slots/media_propaganda/subject_matter",
              "role": "caci:Propaganda/Roles/SubjectMatter",
              "super": "kairos:Contact.Broadcast/Roles/Topic",
              "constraints": "kairos:INF"
            }
          ],
          "aka": "propaganda"
        },
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/obtain_transportation",
          "@type": "kairos:Transaction.Exchange",
          "comment": "\"Rent a van\"",
          "aka": "renting",
          "slots": [
            {
              "name": "vehicle_rented",
              "@id": "caci:CoordinatedBombingAttack/Slots/obtain_transportation/vehicle_rented",
              "role": "kairos:Transaction.Exchange/Roles/AcquiredEntity",
              "constraints": {
                "comment": "narrowed the constraints to be only a VEH.",
                "@type": "kairos:VEH"
              }
            }
          ]
        },
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/move_to_general_attack_location",
          "@type": "kairos:Movement.TransportationLegal",
          "comment": "\"Drive to Manhattan\"",
          "slots": [
            {
              "name": "attackLocation",
              "@id": "caci:CoordinatedBombingAttack/Slots/move_to_general_attack_location/attackLocation",
              "role": "kairos:Movement.TransportationLegal/Roles/destinationPlace",
              "constraints": [
                "kairos:LOC",
                "kairos:FAC",
                "kairos:GPE"
              ]
            },
            {
              "name": "attacker",
              "@id": "kairos:Movement.TransportationIllegal/Slots/move_to_general_attack_location/attacker",
              "role": "kairos:Movement.TransportationIllegal/Roles/thingsMoved",
              "constraints": [
                "kairos:PER",
                "kairos:ORG"
              ]
            },
            {
              "name": "method",
              "@id": "kairos:Movement.TransportationIllegal/Slots/move_to_general_attack_location/method",
              "role": "kairos:Movement.TransportationIllegal/Roles/instrument",
              "constraints": "kairos:VEH"
            }
          ]
        },
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/move_to_specific_attack_location",
          "@type": "kairos:Movement.TransportationLegal",
          "comment": "\"Park at WTC (1993)\"",
          "slots": [
            {
              "name": "attackLocation",
              "@id": "kairos:Movement.TransportationLegal/Slots/move_to_specific_attack_location/attackLocation",
              "role": "kairos:Movement.TransportationLegal/Roles/destinationPlace",
              "constraints": [
                "kairos:LOC",
                "kairos:FAC"
              ]
            },
            {
              "name": "attacker",
              "@id": "kairos:Movement.TransportationIllegal/Slots/move_to_specific_attack_location/attacker",
              "role": "kairos:Movement.TransportationIllegal/Roles/thingsMoved",
              "constraints": {
                "@id": "kairos:Movement.TransportationIllegal/Slots/move_to_general_attack_location/attacker"
              }
            }
          ]
        },
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/bombing",
          "@type": "caci:BombingAttack/detonate",
          "aka": "detonation",
          "comment": [
            "\"Bomb explosion killing 6 people\"",
            "No slots specified since they are taken directly from superclass"
          ]
        },
        {
          "@id": "caci:CoordinatedBombingAttack/Steps/escape",
          "@type": "kairos:Movement.TransportationIllegal",
          "comment": [
            "\"Escaped to Pakistan\"",
            "An illegal border crossing where you're fleeing the law.  We could have created caci:Flee that subclasses Movement.TransportationIllegal and specifies the event from which you're fleeing."
          ],
          "aka": "getaway",
          "slots": [
            {
              "name": "sourcePlace",
              "@id": "caci:CoordinatedBombingAttack/Slots/escape/sourcePlace",
              "role": "kairos:Movement.TransportationIllegal/Roles/sourcePlace",
              "constraints": [
                "kairos:LOC",
                "kairos:FAC"
              ]
            },
            {
              "name": "destinationPlace",
              "@id": "kairos:Movement.TransportationIllegal/Slots/escape/destinationPlace",
              "role": "kairos:Movement.TransportationIllegal/Roles/destinationPlace",
              "constraints": [
                "kairos:LOC",
                "kairos:FAC",
                "kairos:GPE"
              ]
            },
            {
              "name": "thingsMoved",
              "@id": "kairos:Movement.TransportationIllegal/Slots/escape/thingsMoved",
              "role": "kairos:Movement.TransportationIllegal/Roles/thingsMoved",
              "comment": "Arguably, caci:Flee could specify constraints of PER, ORG",
              "constraints": [
                "kairos:PER"
              ]
            }
          ]
        }
      ],
      "order": [
        {
          "before": "caci:CoordinatedBombingAttack/Steps/training_1",
          "after": "caci:CoordinatedBombingAttack/Steps/training_2",
          "flags": "precondition"
        },
        {
          "before": "caci:CoordinatedBombingAttack/Steps/move_to_general_attack_location",
          "after": "caci:CoordinatedBombingAttack/Steps/move_to_specific_attack_location",
          "flags": "precondition"
        },
        {
          "before": "caci:CoordinatedBombingAttack/Steps/bombing",
          "after": "caci:CoordinatedBombingAttack/Steps/escape",
          "flags": "precondition"
        },
        {
          "comment": "Interesting to consider whether move_to_general_attack_location needs to be specified, or whether that just happens because of how you set up general being before specific above; and how does this impact validation?  Can transitivity happen automatically? Probably not in SDF v1.0.",
          "before": [
            "caci:CoordinatedBombingAttack/Steps/training_1",
            "caci:CoordinatedBombingAttack/Steps/obtain_financing",
            "caci:CoordinatedBombingAttack/Steps/make_contact",
            "caci:CoordinatedBombingAttack/Steps/move_to_general_attack_location",
            "caci:CoordinatedBombingAttack/Steps/move_to_specific_attack_location"
          ],
          "after": "caci:CoordinatedBombingAttack/Steps/bombing",
          "flags": "precondition"
        },
        {
          "before": [
            "caci:CoordinatedBombingAttack/Steps/wire_transfer",
            "caci:CoordinatedBombingAttack/Steps/move_illegally",
            "caci:CoordinatedBombingAttack/Steps/get_bombmaking_howto",
            "caci:CoordinatedBombingAttack/Steps/training_2",
            "caci:CoordinatedBombingAttack/Steps/media_propaganda",
            "caci:CoordinatedBombingAttack/Steps/obtain_transportation"
          ],
          "after": "caci:CoordinatedBombingAttack/Steps/bombing"
        }
      ]
    }
  ]
}